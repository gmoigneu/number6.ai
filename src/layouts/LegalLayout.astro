---
import BaseLayout from "@/layouts/BaseLayout.astro";

interface TocEntry {
	id: string;
	label: string;
}

interface Props {
	title: string;
	lastUpdated: string;
	breadcrumbLabel: string;
	toc: TocEntry[];
}

const { title, lastUpdated, breadcrumbLabel, toc } = Astro.props;
---

<BaseLayout title={`${title} | number6.ai`} description={title}>
  <!-- Breadcrumbs + Title Area -->
  <div class="flex flex-col gap-5 px-16 pt-16 pb-12 w-full border-b border-foreground">
    <nav class="flex items-center gap-2">
      <a href="/" class="font-body text-[13px] text-muted-foreground hover:text-foreground transition-colors">Home</a>
      <span class="font-body text-[13px] text-[#AAAAAA]">/</span>
      <span class="font-body text-[13px] font-medium text-foreground">{breadcrumbLabel}</span>
    </nav>
    <h1 class="font-heading text-5xl font-bold tracking-[-2px] text-foreground">{title}</h1>
    <p class="font-body text-sm text-muted-foreground">Last updated: {lastUpdated}</p>
  </div>

  <!-- Content Area: TOC Sidebar + Body -->
  <div class="flex gap-16 px-16 py-12 w-full">
    <!-- TOC Sidebar -->
    <aside class="w-[260px] shrink-0 sticky top-8 self-start">
      <div class="flex flex-col gap-4">
        <span class="font-heading text-[11px] font-semibold tracking-[2px] text-accent">ON THIS PAGE</span>
        <nav class="flex flex-col">
          {toc.map((entry) => (
            <a
              href={`#${entry.id}`}
              class="font-body text-[13px] text-muted-foreground hover:text-foreground transition-colors py-1"
            >
              {entry.label}
            </a>
          ))}
        </nav>
      </div>
    </aside>

    <!-- Body Content -->
    <div class="legal-prose flex-1 min-w-0 flex flex-col gap-12">
      <slot />

      <!-- Back to top -->
      <div class="pt-8 border-t border-[#E0DDD8]">
        <a href="#" class="inline-flex items-center gap-2 group">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-accent"><path d="m18 15-6-6-6 6"/></svg>
          <span class="font-heading text-[13px] font-semibold text-accent">Back to top</span>
        </a>
      </div>
    </div>
  </div>
</BaseLayout>
